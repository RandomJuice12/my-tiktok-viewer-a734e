<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anonymous TikTok Viewer 2025 - No Login Needed</title>
  <meta name="description" content="View TikTok profiles and videos anonymously without an account or app.">
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 20px; background: #001133; color: #fff; } /* DARK BLUE BG */
    h1 { text-align: center; color: #ff5500; } /* BRIGHT ORANGE TITLE */
    #input-container { text-align: center; margin: 40px 0; }
    input { padding: 14px; width: 300px; border: 3px solid yellow; border-radius: 10px; font-size: 18px; background:#112; color:white; }
    button { padding: 14px 30px; background: limegreen; color: black; border: none; border-radius: 10px; cursor: pointer; font-size: 18px; font-weight: bold; margin-left: 12px; }
    button:hover { background: #00ff00; }
    #results { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 30px; }
    .video-item { background: rgba(255,255,255,0.1); padding: 15px; border-radius: 12px; text-align: center; }
    video { width: 100%; border-radius: 8px; }
    .desc { margin: 10px 0; font-size: 14px; }
    .download { color: cyan; font-weight: bold; }
    .error { color: #ff4466; text-align: center; padding: 40px; font-size: 20px; }
    .profile-header { grid-column: 1/-1; background: rgba(255,255,255,0.1); padding: 20px; border-radius: 12px; }
  </style>
</head>
<body>
  <h1>Anonymous TikTok Viewer</h1>
  <p style="text-align:center;">Enter a username (e.g. khaby.lame) — no login, no trace.</p>
  <div id="input-container">
    <input type="text" id="username" placeholder="username (no @)" autofocus />
    <button onclick="loadProfile()">Load Profile</button>
  </div>
  <div id="results"></div>

  <script>
    async function loadProfile() {
      const username = document.getElementById('username').value.trim().replace('@', '');
      if (!username) return alert('Enter a username!');
      const results = document.getElementById('results');
      results.innerHTML = '<div class="error">Loading...</div>';

      try {
        const proxyUrl = 'https://api.allorigins.win/raw?url=' + encodeURIComponent(`https://www.tiktok.com/@${username}`);
        const response = await fetch(proxyUrl);
        if (!response.ok) throw new Error('Network blocked');
        const html = await response.text();

        const jsonMatch = html.match(/window\[['"]__UNIVERSAL_DATA_FOR_REHYDRATION__['"]\]\s*=\s*({.+?});/s) ||
                          html.match(/<script id="__SIGI_STATE__"[^>]*>({.+?})<\/script>/s);
        if (!jsonMatch) throw new Error('Profile data not found (private or invalid user)');

        const data = JSON.parse(jsonMatch[1]);
        const userDetail = data.__DEFAULT_SCOPE__?.webapp?.['user-detail'] || {};
        const user = userDetail.userInfo?.user || {};
        const posts = userDetail['user-post']?.itemList || data.__DEFAULT_SCOPE__?.webapp?.['user-post']?.itemList || [];

        if (!posts.length) throw new Error('No public videos');

        let output = `<div class="profile-header">
          <h2>${user.nickname || username} (@${username})</h2>
          <p>Followers: ${(user.followerCount||0).toLocaleString()} • Likes: ${(user.heart||0).toLocaleString()}</p>
        </div>`;

        posts.slice(0,12).forEach(p => {
          const v = p.video || {};
          const play = v.playAddr?.[0] || v.downloadAddr?.[0] || '';
          const cover = v.cover?.[0] || '';
          const desc = (p.desc||'').slice(0,120);
          const dl = play.replace(/playwm/gi,'play');
          if (play) {
            output += `<div class="video-item">
              <video controls preload="metadata" poster="${cover}"><source src="${play}" type="video/mp4"></video>
              <p class="desc">${desc}</p>
              <a href="${dl}" download class="download">Download No Watermark</a>
            </div>`;
          }
        });

        results.innerHTML = output;

      } catch (e) {
        results.innerHTML = `<div class="error">Error: ${e.message}</div>`;
      }
    }
  </script>
</body>
</html>
